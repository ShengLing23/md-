### 类加载过程

#### 1、加载

* 根据全限定类名获取定义此类的二进制字节流
* 将字节流所代表的静态存储结构转化为方法区的运行时数据结构
* 在内存中生成代表此类的java.lang.Class对象

#### 2、验证

##### 文件格式验证

​	字节流是否符合Class文件格式的规范，并且能被当前版本的虚拟机处理。

##### 元数据验证

​	对字节码描述信息进行语义分析，保证其描述的信息符合java语言规范（语法校验）

##### 字节码验证

​	对类的方法体进行校验分析，保证被校验的类的方法在运行时不会做出危害虚拟机安全的事件。

##### 符号引用验证

​	该校验发生在虚拟机将符号引用转化为直接引用的时候。

#### 3、准备

​	正式为类变量分配内存并设置类变量初始值的阶段，这些变量锁使用的内存都将在方法区进行分配。

​	**注意** ： 这个时候进行内存分配的仅包括【类变量（被static修饰的变量）】，而不包括实例变量。

​		     这里所说的初始值“通常情况”下，是数据类型的零值

```java 
public static in value = 124;
/**
*  变量value在准备阶段过后的初始值是0，而不是124。
*  因为这个时候尚未开始执行任何的java方法
/
```

#### 4、解析

​	解析阶段是虚拟机将常量池内的符号引用替换为直接引用的过程.

#### 5、初始化

​	类初始化时类加载过程的最后一步。到了初始化阶段，才真正开始执行类中定义的java程序代码。

### 类加载器

##### 双亲委派模型

​	如果一个类加载器收到了类加载得到请，它首先不会自己去尝试加载这个类，而是把这个请求委派给父类加载器去完成，每一个层次的类加载器都是如此，因此所有的加载请求最终应该传送到顶层的类加载器中，只有当父加载器反馈自己无法完成这个请求的加载（它的搜索范围中没有找到所需的类）时，子加载器才会尝试去自己加载

























